"use strict";

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
document.addEventListener('DOMContentLoaded', function () {
  // aos
  AOS.init({
    once: true
  });

  // slides up/down/toggle
  var slideUpQna = function slideUpQna(target) {
    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;
    target.style.transitionProperty = 'height, margin, padding';
    target.style.transitionDuration = duration + 'ms';
    target.style.height = target.offsetHeight + 'px';
    target.offsetHeight;
    target.style.overflow = 'hidden';
    target.style.height = 0;
    target.style.paddingTop = 0;
    target.style.paddingBottom = 0;
    target.style.marginTop = 0;
    target.style.marginBottom = 0;
    target.previousElementSibling.style.pointerEvents = 'none';
    window.setTimeout(function () {
      target.style.display = 'none';
      target.style.removeProperty('height');
      target.style.removeProperty('padding-top');
      target.style.removeProperty('padding-bottom');
      target.style.removeProperty('margin-top');
      target.style.removeProperty('margin-bottom');
      target.style.removeProperty('overflow');
      target.style.removeProperty('transition-duration');
      target.style.removeProperty('transition-property');
      target.previousElementSibling.style.pointerEvents = 'auto';
    }, duration);
    target.parentNode.classList.remove('is--open');
  };
  var slideDownQna = function slideDownQna(target) {
    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;
    target.style.removeProperty('display');
    var display = window.getComputedStyle(target).display;
    if (display === 'none') display = 'block';
    target.style.display = display;
    var height = target.offsetHeight;
    target.style.overflow = 'hidden';
    target.style.height = 0;
    target.style.paddingTop = 0;
    target.style.paddingBottom = 0;
    target.style.marginTop = 0;
    target.style.marginBottom = 0;
    target.offsetHeight;
    target.style.transitionProperty = "height, margin, padding";
    target.style.transitionDuration = duration + 'ms';
    target.style.height = height + 'px';
    target.style.removeProperty('padding-top');
    target.style.removeProperty('padding-bottom');
    target.style.removeProperty('margin-top');
    target.style.removeProperty('margin-bottom');
    target.previousElementSibling.style.pointerEvents = 'none';
    window.setTimeout(function () {
      target.style.removeProperty('height');
      target.style.removeProperty('overflow');
      target.style.removeProperty('transition-duration');
      target.style.removeProperty('transition-property');
      target.previousElementSibling.style.pointerEvents = 'auto';
    }, duration);
    target.parentNode.classList.add('is--open');
  };
  var slideToggleQna = function slideToggleQna(target) {
    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;
    if (window.getComputedStyle(target).display === 'none') {
      return slideDownQna(target, duration);
    } else {
      return slideUpQna(target, duration);
    }
  };

  // checker
  var useItemChecker = function useItemChecker(els, onClickOutside) {
    var checkBodyClick = function checkBodyClick(e) {
      var currentEl = e.target;
      while (currentEl) {
        if (els.includes(currentEl)) break;
        currentEl = currentEl.parentNode;
      }
      if (!currentEl) {
        onClickOutside();
        removeBodyChecker();
      }
    };
    function setBodyChecker() {
      document.documentElement.addEventListener('click', checkBodyClick);
    }
    function removeBodyChecker() {
      document.documentElement.removeEventListener('click', checkBodyClick);
    }
    return {
      setBodyChecker: setBodyChecker,
      removeBodyChecker: removeBodyChecker
    };
  };

  // functions
  function changePositionCatalogFilter() {
    var catalogLeft = document.querySelector('.catalog__left');
    var catalogRight = document.querySelector('.catalog__right');
    var catalogSections = document.querySelector('.catalog__sections');
    var catalogMain = document.querySelector('.catalog__main');
    var catalogOffers = document.querySelector('.catalog__offers');
    if (catalogLeft && catalogRight) {
      if (catalogSections) {
        if (window.innerWidth <= 1199) {
          setTimeout(function () {
            catalogSections.before(catalogLeft);
            if (catalogOffers) {
              catalogSections.after(catalogOffers);
            }
          }, 50);
        } else {
          setTimeout(function () {
            catalogRight.before(catalogLeft);
            if (catalogOffers) {
              catalogLeft.append(catalogOffers);
            }
          }, 50);
        }
      }
      if (catalogMain) {
        if (window.innerWidth <= 1199) {
          setTimeout(function () {
            catalogMain.before(catalogLeft);
            if (catalogOffers) {
              catalogMain.after(catalogOffers);
            }
          }, 50);
        } else {
          setTimeout(function () {
            catalogRight.before(catalogLeft);
            if (catalogOffers) {
              catalogLeft.append(catalogOffers);
            }
          }, 50);
        }
      }
    }
  }
  function adjustTooltipPosition() {
    var tooltips = document.querySelectorAll('.c-info');
    if (tooltips) {
      tooltips.forEach(function (item) {
        var tooltipRect = item.querySelector('.c-info__trigger').getBoundingClientRect();
        var windowWidth = window.innerWidth;
        var dropdown = item.querySelector('.c-info__dropdown');
        dropdown.style.top = tooltipRect.top + 'px';
        if (window.innerWidth >= 768) {
          if (tooltipRect.left + dropdown.getBoundingClientRect().width / 2 > windowWidth) {
            dropdown.style.left = tooltipRect.left - dropdown.getBoundingClientRect().width + tooltipRect.width + 'px';
            dropdown.style.transform = 'translate(0, -100%)';
          } else if (tooltipRect.left - dropdown.getBoundingClientRect().width / 2 < 0) {
            dropdown.style.left = tooltipRect.left + 'px';
            dropdown.style.transform = 'translate(0, -100%)';
          } else {
            dropdown.style.left = tooltipRect.left + 'px';
            dropdown.style.transform = 'translate(-50%, -100%)';
          }
        } else {
          dropdown.style.removeProperty('left');
          dropdown.style.removeProperty('right');
          dropdown.style.transform = 'translate(0%, -100%)';
        }
      });
    }
  }
  function toggleHeaderClass() {
    var header = document.querySelector('.header');
    if (header) {
      if (window.scrollY > 5) {
        header.classList.add('is--scrolling');
      } else {
        header.classList.remove('is--scrolling');
      }
    }
  }
  changePositionCatalogFilter();
  adjustTooltipPosition();
  toggleHeaderClass();
  window.addEventListener('resize', function () {
    changePositionCatalogFilter();
    if (document.querySelector('.c-info.is--active')) {
      document.querySelectorAll('.c-info.is--active').forEach(function (child) {
        var dropdown = child.querySelector('.c-info__dropdown');
        child.classList.remove('is--active');
        dropdown.style.removeProperty('top');
        dropdown.style.removeProperty('left');
        dropdown.style.removeProperty('right');
        dropdown.style.removeProperty('transform');
      });
    }
    adjustTooltipPosition();
  });
  window.addEventListener('scroll', function () {
    if (document.querySelector('.c-info.is--active')) {
      document.querySelectorAll('.c-info.is--active').forEach(function (child) {
        var dropdown = child.querySelector('.c-info__dropdown');
        child.classList.remove('is--active');
        dropdown.style.removeProperty('top');
        dropdown.style.removeProperty('left');
        dropdown.style.removeProperty('right');
        dropdown.style.removeProperty('transform');
      });
    }
    adjustTooltipPosition();
    toggleHeaderClass();
  });

  // inputmask
  Inputmask().mask(document.querySelectorAll('input'));

  // textarea
  var allTexareas = document.querySelectorAll('textarea');
  if (allTexareas) {
    allTexareas.forEach(function (el) {
      el.style.height = el.setAttribute('style', 'height: ' + el.scrollHeight + 'px');
      el.classList.add('auto');
      el.addEventListener('input', function (e) {
        el.style.height = 'auto';
        el.style.height = el.scrollHeight + 'px';
      });
    });
  }

  // mobile menu
  var header = document.getElementById('header');
  var mobileMenu = document.getElementById('menu');
  var mobileMenuTrigger = document.getElementById('hamburger-toggle');
  if (mobileMenu && mobileMenuTrigger) {
    mobileMenuTrigger.addEventListener('click', function (event) {
      event.preventDefault();
      if (mobileMenu.classList.contains('is--active')) {
        header.classList.remove('is--menu');
        mobileMenuTrigger.classList.remove('is--active');
        mobileMenu.classList.remove('is--active');
        document.body.classList.remove('scroll-disabled');
      } else {
        header.classList.add('is--menu');
        mobileMenuTrigger.classList.add('is--active');
        mobileMenu.classList.add('is--active');
        document.body.classList.add('scroll-disabled');
      }
    });
  }

  // info
  var infoTrigger = document.querySelectorAll('.c-info__trigger');
  if (infoTrigger) {
    infoTrigger.forEach(function (item) {
      var close = function close() {
        var parent = item.closest('.c-info');
        parent.classList.remove('is--active');
      };
      var itemChecker = useItemChecker([item.parentNode], close);
      item.addEventListener('mouseover', function (event) {
        event.preventDefault();
        if (window.innerWidth >= 1024) {
          var _parent = item.closest('.c-info');
          _parent.classList.add('is--active');
        }
      });
      item.addEventListener('mouseout', function (event) {
        event.preventDefault();
        if (window.innerWidth >= 1024) {
          document.querySelectorAll('.c-info').forEach(function (child) {
            return child.classList.remove('is--active');
          });
        }
      });
      item.addEventListener('click', function (event) {
        event.preventDefault();
        if (window.innerWidth <= 1023) {
          var _parent2 = item.closest('.c-info');
          if (!_parent2.classList.contains('is--active')) {
            _parent2.classList.add('is--active');
            itemChecker.setBodyChecker();
          } else {
            close();
          }
        }
      });
    });
  }

  // iframe loading
  var contentVideoIframe = document.querySelectorAll('.content-video__media');
  if (contentVideoIframe) {
    contentVideoIframe.forEach(function (item) {
      item.addEventListener('click', function (event) {
        event.preventDefault();
        var parent = item.closest('.content-video');
        if (!parent.classList.contains('is--active')) {
          parent.classList.add('is--active');
          var frame = parent.querySelector('iframe');
          var link = frame.dataset.src.indexOf('?') > -1 ? frame.dataset.src + '&autoplay=1' : frame.dataset.src + '?autoplay=1';
          frame.setAttribute('src', link);
          frame.removeAttribute('data-src');
        }
      });
    });
  }

  // select
  var sortSelectBox = document.querySelectorAll('.sort-select-box__placeholder');
  var sortSelectBoxOption = document.querySelectorAll('.sort-select-box__option');
  if (sortSelectBox) {
    sortSelectBox.forEach(function (item) {
      var close = function close() {
        document.querySelectorAll('.select-box').forEach(function (child) {
          return child.classList.remove('is--active');
        });
        document.querySelectorAll('.sort-select-box').forEach(function (child) {
          return child.classList.remove('is--active');
        });
      };
      var itemChecker = useItemChecker([item.parentNode].concat(_toConsumableArray(document.querySelectorAll('.sort-select-box'))), close);
      item.addEventListener('click', function () {
        var parent = item.closest('.sort-select-box');
        if (parent.classList.contains('is--active')) {
          close();
        } else {
          close();
          parent.classList.add('is--active');
          itemChecker.setBodyChecker();
        }
      });
    });
    if (sortSelectBoxOption) {
      sortSelectBoxOption.forEach(function (item) {
        item.addEventListener('click', function () {
          var parent = item.closest('.sort-select-box');
          var placeholder = parent.querySelector('.sort-select-box__placeholder span');
          placeholder.innerHTML = item.querySelector('.mark-checkbox__title').innerHTML;
          document.querySelectorAll('.sort-select-box').forEach(function (child) {
            return child.classList.remove('is--active');
          });
        });
      });
    }
  }

  // faq accordeon
  var faqTrigger = document.querySelectorAll('.faq__trigger');
  if (faqTrigger) {
    faqTrigger.forEach(function (item) {
      item.addEventListener('click', function (event) {
        event.preventDefault();
        if (!item.parentNode.classList.contains('is--open')) {
          slideDownQna(item.nextElementSibling);
        } else {
          slideUpQna(item.nextElementSibling);
        }
      });
    });
  }

  // prices table accordeon
  var pricesTableTrigger = document.querySelectorAll('.prices-table__trigger');
  if (pricesTableTrigger) {
    pricesTableTrigger.forEach(function (item) {
      item.addEventListener('click', function (event) {
        event.preventDefault();
        if (!item.parentNode.classList.contains('is--open')) {
          slideDownQna(item.nextElementSibling);
        } else {
          slideUpQna(item.nextElementSibling);
        }
      });
    });
  }

  // catalog filter sections
  var catalogFilterSectionsTrigger = document.querySelectorAll('.catalog-filter-sections__trigger');
  if (catalogFilterSectionsTrigger) {
    catalogFilterSectionsTrigger.forEach(function (item) {
      var close = function close() {
        var parent = item.closest('.catalog-filter-sections');
        parent.classList.remove('is--active');
      };
      var itemChecker = useItemChecker([item.parentNode], close);
      item.addEventListener('click', function (event) {
        event.preventDefault();
        var parent = item.closest('.catalog-filter-sections');
        if (window.innerWidth >= 1200) {
          if (!parent.classList.contains('is--open')) {
            slideDownQna(item.nextElementSibling);
          } else {
            slideUpQna(item.nextElementSibling);
          }
        } else {
          if (!parent.classList.contains('is--active')) {
            parent.classList.add('is--active');
            itemChecker.setBodyChecker();
          } else {
            close();
          }
        }
      });
    });
  }

  // prices manufacturers
  var pricesManufacturersTrigger = document.querySelectorAll('.prices-manufacturers__trigger');
  if (pricesManufacturersTrigger) {
    pricesManufacturersTrigger.forEach(function (item) {
      var close = function close() {
        var parent = item.closest('.prices-manufacturers__top');
        parent.classList.remove('is--active');
      };
      var itemChecker = useItemChecker([item.parentNode], close);
      item.addEventListener('click', function (event) {
        event.preventDefault();
        var parent = item.closest('.prices-manufacturers__top');
        if (!parent.classList.contains('is--active')) {
          parent.classList.add('is--active');
          itemChecker.setBodyChecker();
        } else {
          close();
        }
      });
    });
  }

  // quiz stages
  var quizHolders = document.querySelectorAll('.quiz-questions__holder');
  var quizNextBtn = document.querySelectorAll('.quiz-questions__btn--next');
  var quizPrevBtn = document.querySelectorAll('.quiz-questions__back');
  var quizStageItems = document.querySelectorAll('.quiz-stages__item');
  var quizStageBanners = document.querySelectorAll('.quiz-banner__holder');
  var quizProgress = document.querySelector('.quiz-stages__progress');
  var currentStage = 1;
  if (quizHolders && quizStageItems && quizStageBanners && quizProgress) {
    var showStage = function showStage(stage) {
      quizHolders.forEach(function (holder) {
        holder.classList.remove('is--active');
        if (parseInt(holder.getAttribute('data-stage')) === stage) {
          holder.classList.add('is--active');
        }
      });
      quizProgress.className = "quiz-stages__progress quiz-stages__progress--".concat(stage);
      quizStageItems.forEach(function (item) {
        item.classList.remove('is--active');
        if (parseInt(item.getAttribute('data-stage')) === stage) {
          item.classList.add('is--active');
        }
      });
      quizStageBanners.forEach(function (item) {
        item.classList.remove('is--active');
        if (parseInt(item.getAttribute('data-stage')) === stage) {
          item.classList.add('is--active');
        }
      });
    };
    var checkSelection = function checkSelection() {
      var currentHolder = quizHolders[currentStage - 1];
      var checked = currentHolder.querySelector('input[type="radio"]:checked');
      return checked !== null;
    };
    if (quizNextBtn) {
      quizNextBtn.forEach(function (button) {
        button.addEventListener('click', function (event) {
          event.preventDefault();
          if (checkSelection()) {
            currentStage++;
            if (currentStage > quizHolders.length) currentStage = quizHolders.length;
            showStage(currentStage);
          }
        });
      });
    }
    if (quizPrevBtn) {
      quizPrevBtn.forEach(function (button) {
        button.addEventListener('click', function (event) {
          event.preventDefault();
          if (currentStage > 1) {
            currentStage--;
            showStage(currentStage);
          }
        });
      });
    }
    showStage(1);
  }

  // product tabs
  var productTabsItems = document.querySelectorAll('.product-tabs__item');
  if (productTabsItems) {
    productTabsItems.forEach(function (item, i) {
      item.addEventListener('click', function () {
        var parent = item.closest('.product-tabs');
        parent.querySelectorAll('.product-tabs__item').forEach(function (child) {
          return child.classList.remove('is--active');
        });
        parent.querySelectorAll('.product-tabs__holder').forEach(function (child) {
          return child.classList.remove('is--active');
        });
        item.classList.add('is--active');
        var el = parent.querySelector('.is--active');
        var index = _toConsumableArray(parent.querySelectorAll('.product-tabs__item')).indexOf(el);
        parent.querySelectorAll('.product-tabs__holder')[index].classList.add('is--active');
      });
    });
  }

  // iframe loading
  var iframeMedia = document.querySelectorAll('.js-media');
  if (iframeMedia) {
    iframeMedia.forEach(function (item) {
      item.addEventListener('click', function (event) {
        event.preventDefault();
        if (!item.classList.contains('is--active')) {
          item.classList.add('is--active');
          var frame = parent.querySelector('iframe');
          var link = frame.dataset.src.indexOf('?') > -1 ? frame.dataset.src + '&autoplay=1' : frame.dataset.src + '?autoplay=1';
          frame.setAttribute('src', link);
          frame.removeAttribute('data-src');
          setTimeout(function () {
            item.querySelector('.js-media-loader').classList.add('is--hidden');
          }, 5000);
        }
      });
    });
  }

  // reviews slider
  var reviewsSlider = document.querySelector('.reviews__slider:not(.reviews__slider--indent) .swiper');
  var reviewsIndentSlider = document.querySelector('.reviews__slider--indent .swiper');
  if (reviewsSlider) {
    var myReviewsSlider = new Swiper(reviewsSlider, {
      slidesPerView: 'auto',
      spaceBetween: 56,
      loop: true,
      pagination: {
        el: '.reviews__slider .swiper-pagination',
        type: 'bullets',
        clickable: true
      },
      navigation: {
        prevEl: '.reviews__slider .swiper-button-prev',
        nextEl: '.reviews__slider .swiper-button-next'
      },
      breakpoints: {
        0: {
          spaceBetween: 10
        },
        375: {
          spaceBetween: 30
        },
        768: {
          spaceBetween: 12
        },
        1400: {
          spaceBetween: 56
        }
      }
    });
  }
  if (reviewsIndentSlider) {
    var myReviewsIndentSlider = new Swiper(reviewsIndentSlider, {
      slidesPerView: 'auto',
      spaceBetween: 56,
      loop: true,
      pagination: {
        el: '.reviews__slider .swiper-pagination',
        type: 'bullets',
        clickable: true
      },
      navigation: {
        prevEl: '.reviews__slider .swiper-button-prev',
        nextEl: '.reviews__slider .swiper-button-next'
      },
      breakpoints: {
        0: {
          spaceBetween: 10
        },
        375: {
          spaceBetween: 20
        },
        768: {
          spaceBetween: 12
        },
        1400: {
          spaceBetween: 56
        }
      }
    });
  }

  // big reviews slider
  var bigReviewsSoloSlider = document.querySelector('.big-reviews__slider .swiper');
  if (bigReviewsSoloSlider) {
    var myBigReviewsSoloSlider = new Swiper(bigReviewsSoloSlider, {
      slidesPerView: 1,
      spaceBetween: 60,
      loop: true,
      pagination: {
        el: '.big-reviews__slider .swiper-pagination',
        type: 'bullets',
        clickable: true
      },
      navigation: {
        prevEl: '.big-reviews__slider .swiper-button-prev',
        nextEl: '.big-reviews__slider .swiper-button-next'
      },
      breakpoints: {
        0: {
          spaceBetween: 10
        },
        375: {
          spaceBetween: 30
        },
        1024: {
          spaceBetween: 20
        },
        1400: {
          spaceBetween: 60
        }
      },
      on: {
        slideChange: setContentExpanded
      }
    });
  }

  // big reviews thumbnail slider
  var bigReviewsMainSlider = document.querySelector('.big-reviews__main-slider .swiper');
  var bigReviewsThumbnailSlider = document.querySelector('.big-reviews__thumbnail .swiper');
  if (bigReviewsMainSlider && bigReviewsThumbnailSlider) {
    var myBigReviewsThumbnailSlider = new Swiper(bigReviewsThumbnailSlider, {
      spaceBetween: 30,
      slidesPerView: 'auto',
      watchSlidesVisibility: true,
      watchSlidesProgress: true,
      breakpoints: {
        0: {
          allowTouchMove: true
        },
        768: {
          allowTouchMove: false
        }
      }
    });
    var myBigReviewsMainSlider = new Swiper(bigReviewsMainSlider, {
      slidesPerView: 1,
      spaceBetween: 60,
      pagination: {
        el: '.big-reviews__main-slider .swiper-pagination',
        type: 'bullets',
        clickable: true
      },
      navigation: {
        prevEl: '.big-reviews__main-slider .swiper-button-prev',
        nextEl: '.big-reviews__main-slider .swiper-button-next'
      },
      breakpoints: {
        0: {
          spaceBetween: 10
        },
        375: {
          spaceBetween: 30
        },
        1024: {
          spaceBetween: 20
        },
        1400: {
          spaceBetween: 60
        }
      },
      thumbs: {
        swiper: myBigReviewsThumbnailSlider
      },
      on: {
        slideChange: setContentExpanded
      }
    });
    bigReviewsThumbnailSlider.querySelectorAll('.swiper-slide').forEach(function (item) {
      item.addEventListener('click', function () {
        bigReviewsThumbnailSlider.querySelectorAll('.swiper-slide').forEach(function (child) {
          return child.classList.remove('is--active');
        });
        item.classList.add('is--active');
        myBigReviewsThumbnailSlider.slideTo(item.dataset.index);
      });
    });
    myBigReviewsMainSlider.on('slideChange', function () {
      myBigReviewsThumbnailSlider.slideTo(myBigReviewsMainSlider.realIndex);
      bigReviewsThumbnailSlider.querySelectorAll('.swiper-slide').forEach(function (child) {
        return child.classList.remove('is--active');
      });
      bigReviewsThumbnailSlider.querySelectorAll('.swiper-slide')[myBigReviewsMainSlider.realIndex].classList.add('is--active');
    });
  }

  // product reviews slider
  var productReviewsSlider = document.querySelector('.product-reviews__slider .swiper');
  if (productReviewsSlider && window.innerWidth <= 767) {
    var myProductReviewsSlider = new Swiper(productReviewsSlider, {
      slidesPerView: 1,
      spaceBetween: 30,
      loop: true,
      navigation: {
        prevEl: '.product-reviews__slider .swiper-button-prev',
        nextEl: '.product-reviews__slider .swiper-button-next'
      },
      breakpoints: {
        0: {
          spaceBetween: 10
        },
        375: {
          spaceBetween: 30
        }
      },
      on: {
        slideChange: setContentExpanded
      }
    });
  }

  // product slider
  var galleryThumb = document.querySelector('.product__slider .gallery-thumbs');
  var galleryMain = document.querySelector('.product__slider .gallery-main');
  if (galleryThumb && galleryMain) {
    var mySwiperThumb = new Swiper(galleryThumb, {
      slidesPerView: 'auto',
      spaceBetween: 12,
      freeMode: true,
      watchSlidesVisibility: true,
      watchSlidesProgress: true,
      breakpoints: {
        0: {
          spaceBetween: 10
        },
        1024: {
          spaceBetween: 12
        }
      }
    });
    var mySwiperMain = new Swiper(galleryMain, {
      slidesPerView: 1,
      navigation: {
        prevEl: galleryMain.querySelector('.swiper-button-prev'),
        nextEl: galleryMain.querySelector('.swiper-button-next')
      },
      thumbs: {
        swiper: galleryThumb
      }
    });
    galleryThumb.querySelectorAll('.swiper-slide').forEach(function (item) {
      item.addEventListener('click', function () {
        galleryThumb.querySelectorAll('.swiper-slide').forEach(function (child) {
          return child.classList.remove('is--active');
        });
        item.classList.add('is--active');
        mySwiperThumb.slideTo(item.dataset.index);
      });
    });
    mySwiperMain.on('slideChange', function () {
      mySwiperThumb.slideTo(mySwiperMain.realIndex);
      galleryThumb.querySelectorAll('.swiper-slide').forEach(function (child) {
        return child.classList.remove('is--active');
      });
      galleryThumb.querySelectorAll('.swiper-slide')[mySwiperMain.realIndex].classList.add('is--active');
    });
  }

  // photos works slider
  var photosWorksSlider = document.querySelector('.photos-works__slider .swiper');
  if (photosWorksSlider) {
    var myPhotosWorksSlider = new Swiper(photosWorksSlider, {
      slidesPerView: 'auto',
      spaceBetween: 45,
      loop: true,
      navigation: {
        prevEl: '.photos-works__slider .swiper-button-prev',
        nextEl: '.photos-works__slider .swiper-button-next'
      },
      breakpoints: {
        0: {
          spaceBetween: 10
        },
        375: {
          spaceBetween: 20
        },
        1200: {
          spaceBetween: 45
        }
      }
    });
  }

  // portfolio slider
  var portfolioSlider = document.querySelector('.portfolio__slider .swiper');
  if (portfolioSlider && window.innerWidth <= 767) {
    var myPortfolioSlider = new Swiper(portfolioSlider, {
      slidesPerView: 'auto',
      spaceBetween: 30,
      loop: true,
      navigation: {
        prevEl: '.portfolio__slider .swiper-button-prev',
        nextEl: '.portfolio__slider .swiper-button-next'
      },
      breakpoints: {
        0: {
          spaceBetween: 10
        },
        375: {
          spaceBetween: 30
        }
      }
    });
  }

  // special offers slider
  var specialOffersSlider = document.querySelector('.special-offers__slider .swiper');
  if (specialOffersSlider && window.innerWidth <= 767) {
    var mySpecialOffersSlider = new Swiper(specialOffersSlider, {
      slidesPerView: 'auto',
      spaceBetween: 15,
      navigation: {
        prevEl: '.special-offers__slider .swiper-button-prev',
        nextEl: '.special-offers__slider .swiper-button-next'
      }
    });
  }

  // catalog offers slider
  var catalogOffersSlider = document.querySelector('.catalog-offers__slider .swiper');
  if (catalogOffersSlider && window.innerWidth <= 767) {
    var myCatalogOffersSlider = new Swiper(catalogOffersSlider, {
      slidesPerView: 'auto',
      spaceBetween: 15,
      navigation: {
        prevEl: '.catalog-offers__slider .swiper-button-prev',
        nextEl: '.catalog-offers__slider .swiper-button-next'
      }
    });
  }

  // catalog sections slider
  var catalogSectionsSlider = document.querySelector('.catalog-sections__slider .swiper');
  if (catalogSectionsSlider && window.innerWidth <= 767) {
    var myCatalogSectionsSlider = new Swiper(catalogSectionsSlider, {
      slidesPerView: 'auto',
      spaceBetween: 20,
      loop: true,
      navigation: {
        prevEl: '.catalog-sections__slider .swiper-button-prev',
        nextEl: '.catalog-sections__slider .swiper-button-next'
      }
    });
  }

  // operating principle slider
  var operatingPrincipleSlider = document.querySelector('.operating-principle__slider .swiper');
  if (operatingPrincipleSlider && window.innerWidth <= 767) {
    var _myCatalogSectionsSlider = new Swiper(operatingPrincipleSlider, {
      slidesPerView: 1,
      spaceBetween: 15,
      loop: true,
      navigation: {
        prevEl: '.operating-principle__slider .swiper-button-prev',
        nextEl: '.operating-principle__slider .swiper-button-next'
      },
      breakpoints: {
        0: {
          spaceBetween: 5
        },
        375: {
          spaceBetween: 15
        }
      }
    });
  }

  // main catalog slider
  var mainCatalogSlider = document.querySelector('.main-catalog__slider .swiper');
  if (mainCatalogSlider && window.innerWidth <= 767) {
    var myMainCatalogSlider = new Swiper(mainCatalogSlider, {
      slidesPerView: 'auto',
      spaceBetween: 20,
      loop: true,
      navigation: {
        prevEl: '.main-catalog__slider .swiper-button-prev',
        nextEl: '.main-catalog__slider .swiper-button-next'
      }
    });
  }

  // articles catalog slider
  var articlesInnerCatalogSlider = document.querySelector('.articles-inner__catalog-slider .swiper');
  if (articlesInnerCatalogSlider && window.innerWidth <= 767) {
    var myArticlesInnerCatalogSlider = new Swiper(articlesInnerCatalogSlider, {
      slidesPerView: 'auto',
      spaceBetween: 20,
      loop: true,
      navigation: {
        prevEl: '.articles-inner__catalog-slider .swiper-button-prev',
        nextEl: '.articles-inner__catalog-slider .swiper-button-next'
      }
    });
  }

  // catalog slider
  var catalogSlider = document.querySelectorAll('.catalog__slider:not(.catalog__slider--sm) .swiper');
  var catalogSmSlider = document.querySelectorAll('.catalog__slider--sm .swiper');
  if (catalogSlider) {
    catalogSlider.forEach(function (slider) {
      var myCatalogSlider = new Swiper(slider, {
        slidesPerView: 4,
        spaceBetween: 20,
        loop: true,
        watchOverflow: true,
        navigation: {
          prevEl: slider.closest('.catalog__slider').querySelector('.swiper-button-prev'),
          nextEl: slider.closest('.catalog__slider').querySelector('.swiper-button-next')
        },
        pagination: {
          el: slider.closest('.catalog__slider').querySelector('.swiper-pagination'),
          type: 'bullets',
          clickable: true
        },
        breakpoints: {
          0: {
            slidesPerView: 'auto',
            spaceBetween: 10
          },
          375: {
            slidesPerView: 'auto',
            spaceBetween: 30
          },
          1024: {
            slidesPerView: 3,
            spaceBetween: 20
          },
          1200: {
            slidesPerView: 4,
            spaceBetween: 20
          }
        }
      });
    });
  }
  if (catalogSmSlider) {
    catalogSmSlider.forEach(function (slider) {
      var myCatalogSmSlider = new Swiper(slider, {
        slidesPerView: 4,
        spaceBetween: 20,
        loop: true,
        watchOverflow: true,
        navigation: {
          prevEl: slider.closest('.catalog__slider').querySelector('.swiper-button-prev'),
          nextEl: slider.closest('.catalog__slider').querySelector('.swiper-button-next')
        },
        pagination: {
          el: slider.closest('.catalog__slider').querySelector('.swiper-pagination'),
          type: 'bullets',
          clickable: true
        },
        breakpoints: {
          0: {
            slidesPerView: 'auto',
            spaceBetween: 10
          },
          375: {
            slidesPerView: 'auto',
            spaceBetween: 30
          },
          1024: {
            slidesPerView: 3,
            spaceBetween: 20
          },
          1800: {
            slidesPerView: 4,
            spaceBetween: 20
          }
        }
      });
    });
  }

  // install sewerage slider
  var installSewerageSlider = document.querySelector('.install-sewerage__slider .swiper');
  if (installSewerageSlider && window.innerWidth <= 767) {
    var myInstallSewerageSlider = new Swiper(installSewerageSlider, {
      slidesPerView: 'auto',
      spaceBetween: 20,
      loop: true,
      navigation: {
        prevEl: '.install-sewerage__slider .swiper-button-prev',
        nextEl: '.install-sewerage__slider .swiper-button-next'
      }
    });
  }

  // official dealer slider
  var officialDealerSlider = document.querySelector('.official-dealer__slider .swiper');
  if (officialDealerSlider) {
    var myOfficialDealerSlider = new Swiper(officialDealerSlider, {
      slidesPerView: 1,
      spaceBetween: 40,
      loop: true,
      pagination: {
        el: '.official-dealer__slider .swiper-pagination',
        type: 'bullets',
        clickable: true
      },
      navigation: {
        prevEl: '.official-dealer__slider .swiper-button-prev',
        nextEl: '.official-dealer__slider .swiper-button-next'
      }
    });
  }

  // certificates slider
  var certificatesSlider = document.querySelector('.certificates__slider .swiper');
  if (certificatesSlider) {
    var myCertificatesSlider = new Swiper(certificatesSlider, {
      slidesPerView: 3,
      spaceBetween: 100,
      loop: true,
      pagination: {
        el: '.certificates__slider .swiper-pagination',
        type: 'bullets',
        clickable: true
      },
      navigation: {
        prevEl: '.certificates__slider .swiper-button-prev',
        nextEl: '.certificates__slider .swiper-button-next'
      },
      breakpoints: {
        0: {
          slidesPerView: 1,
          spaceBetween: 20
        },
        1024: {
          slidesPerView: 3,
          spaceBetween: 100
        }
      }
    });
  }

  // services slider
  var servicesSlider = document.querySelector('.services__slider .swiper');
  if (servicesSlider && window.innerWidth <= 767) {
    var myServicesSlider = new Swiper(servicesSlider, {
      slidesPerView: 'auto',
      spaceBetween: 30,
      loop: true,
      navigation: {
        prevEl: '.services__slider .swiper-button-prev',
        nextEl: '.services__slider .swiper-button-next'
      },
      breakpoints: {
        0: {
          spaceBetween: 10
        },
        375: {
          spaceBetween: 30
        }
      }
    });
  }

  // articles slider
  var articlesSlider = document.querySelector('.articles__slider .swiper');
  if (articlesSlider && window.innerWidth <= 767) {
    var myArticlesSlider = new Swiper(articlesSlider, {
      slidesPerView: 'auto',
      spaceBetween: 30,
      loop: true,
      navigation: {
        prevEl: '.articles__slider .swiper-button-prev',
        nextEl: '.articles__slider .swiper-button-next'
      },
      breakpoints: {
        0: {
          spaceBetween: 10
        },
        375: {
          spaceBetween: 30
        }
      }
    });
  }

  // // big reviews
  var bigReviewsContent = document.querySelectorAll('.big-reviews-card__content');
  var bigReviewsExpandBtn = document.querySelectorAll('.big-reviews-card__expand-btn');
  function setContentExpanded() {
    document.querySelectorAll('.big-reviews-card__content').forEach(function (child) {
      return child.classList.add('is--expanded');
    });
    document.querySelectorAll('.big-reviews-card__expand-btn').forEach(function (child) {
      return child.innerHTML = 'Показать больше';
    });
  }
  if (bigReviewsContent) {
    bigReviewsContent.forEach(function (content) {
      content.style.setProperty('--full-height', content.scrollHeight + 'px');
      content.classList.add('is--expanded');
    });
  }
  if (bigReviewsExpandBtn) {
    bigReviewsExpandBtn.forEach(function (button) {
      button.addEventListener('click', function (event) {
        event.preventDefault();
        var parent = button.closest('.big-reviews-card__body');
        var content = parent.querySelector('.big-reviews-card__content');
        if (content.classList.contains('is--expanded')) {
          content.classList.remove('is--expanded');
          button.innerHTML = 'Скрыть';
        } else {
          content.classList.add('is--expanded');
          button.innerHTML = 'Показать больше';
        }
      });
    });
  }

  // modal
  var modal = document.querySelectorAll('.modal');
  var modalBtn = document.querySelectorAll('.modal-btn');
  var modalClose = document.querySelectorAll('.modal__close');
  if (modal && modalBtn && modalClose) {
    // modal
    modal.forEach(function (item) {
      item.addEventListener('click', function (event) {
        if (event.target.classList.contains('modal') || event.target.classList.contains('modal__wrap')) {
          event.preventDefault();
          document.querySelectorAll('.modal.is--active').forEach(function (child) {
            return child.classList.remove('is--active');
          });
          document.body.classList.remove('scroll-disabled');
        }
      });
    });

    // modal btn
    modalBtn.forEach(function (item, i) {
      item.addEventListener('click', function (event) {
        event.preventDefault();
        var modalID = item.dataset.id;
        if (document.getElementById(modalID)) {
          document.querySelectorAll('.modal.is--active').forEach(function (child) {
            return child.classList.remove('is--active');
          });
          document.getElementById(modalID).classList.add('is--active');
          document.body.classList.add('scroll-disabled');
        }
      });
    });

    // modal close
    modalClose.forEach(function (item) {
      item.addEventListener('click', function (event) {
        event.preventDefault();
        document.querySelectorAll('.modal.is--active').forEach(function (child) {
          return child.classList.remove('is--active');
        });
        document.body.classList.remove('scroll-disabled');
      });
    });
  }
  document.addEventListener('mouseleave', function (event) {
    if (event.clientY <= 0) {
      document.querySelectorAll('.modal.is--active').forEach(function (child) {
        return child.classList.remove('is--active');
      });
      document.getElementById('modal-get-instructions').classList.add('is--active');
      document.body.classList.add('scroll-disabled');
    }
  });
});